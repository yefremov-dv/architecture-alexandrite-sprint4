# Task 1
---
### Проанализируйте схему и описание системы.
> Идентифицируйте существующие и потенциальные проблемные места. Напишите их список.

```
Здесь и далее используются названия контейнеров C4 для обозначения элементов ИТ-ландшафта, о которых идет речь.
```
**Перечень существующих и потенциальных проблемных мест ИТ-архитектуры Компании «Александрит»:**
1. Доступность MES - приоритет №0. Даже при недоступности любых других элементов архитектуры, производство уже оформленных заказов должно не останавливаться и идти в установленный срок
2. Доступность Internet Shop, MES API, CRM - приоритет №1. Без каналов поступления новых заказов бизнес можно будет закрывать после выполнения текущего списка работ. Здесь и далее допускаем, что заказ всегда подтверждается звонком от Seller после поступления задания в CRM. Неподтвержденный голосом заказ аннулируется и не передается в производство.
3. Отсутствует аналика по заказам. В данный момент производство готово для двухкратного роста заказов, однако нигде не фиксируется тренд по времени (месяц, год) на изменение числа заказов. Бизнес должен заранее знать о возможной дате исчерпания производственных ресурсов. Также должны учитываться потенциальные сезонные пики заказов.


---
### Разработайте инициативы, которые необходимы для устранения нежелательных ситуаций.
> Запишите их в список.

**Нежелательные ситуации.**
Приоритетом для компании «Александрит»  являются бизнес-инциденты, т.к. конечный пользователь готов заплатить за своевременный и качественно выполенный заказ. Вся логика работы ИТ-архитектуры для пользователя инкапсулирована и не представляет интереса.
Перечень нежелательных ситуаций распростроняется как на заказы через Internet Shop (B2C), так и вызовы MES API другими компаниями (B2B):
1. Недоступность сервисов формирования заказа
2. Потеря заказа на этапах оформления и реализации
3. Несвоевременное выполнение заказа
4. Несоответствие итоговой продукции согласованным требованиям

Перечень нежелательных ситуаций для производства:
1. Недоступность и/или замедление сервисов MES

Перечень нежелательных ситуаций для разработки программного обеспечения:
1. Увеличение времени новых релизов из-за долгого тестирования. Из-за скопившейся очереди релизов для тестирования QA все позже отдает баги на исправление, что не позволяет оперативно приступить к их исправлению. Допускаем, что ресурсов команды достаточно для исправления бага сразу, но приходится ждать, пока QA доберется до конкретной доработки в очереди и протестирует вручную.

**Инициативы по устранению нежелательных ситуаций клиентов B2C и B2B:**
1. Анализ и повышение уровня доступности элементов ИТ-ландшафта, участвующих в оформлении заказа:
1.1 Доступность Internet Shop, Shop API, Shop DB, MES API, 3d file storage, CRM, CRM API для B2C
1.2 Доступность MES API, 3d file storage, CRM, CRM API для B2B
2. Выстраивание прозрачной системы E2E мониторинга, которая позволит показать сотрудникам Бизнес и ИТ направлений "Александрита", куда необходимо направить инвестиции для устранения потерь заказов
3. Внедрение модуля алертинга для MES системы, который будет:
3.1 Подсвечивать операторам о необходимости приоритезации выполнения заказа и нарушении сроков выполнения.
3.2 Блокировать возможность принятия в работу нового заказа при полной загрузке оператора с учетом потенциально необходимого времени для финализации текущих заказов в срок
3.3 Подсвечивать бизнес направлениям "Александрита" при высокой суммарной утилизации всех операторов о необходимости найма дополнительных сотруников на производство
3.4 При невозможности выполнения заказа в срок необходимо предусмотреть интеграцию с CRM системой через MES API и Message Queue для формирования задачи в сторону Seller по обзвону клиентов с предупреждениями о сдвигах сроков
4. Контроль за неизменяемостью моделей, находящихся в 3d files storage:
4.1 Контроль целостности файлов
4.2 Выстраивание прозрачной системы доступа к файлам с моделями, как для пользователей, так и для других сервисов/систем
4.3 Добавление организационного этапа сверки итогового изделия с изначально согласованной моделью

Доступность MES API считаем обязательной для обработки заказов B2C (не только B2B), т.к. согласно архитектурной схеме в С4, данный контейнер обеспечивает функцию "Calculates price of the order".

Модуль оплаты заказов в явном виде не выделяется на архитектурной схемы. Допускаем, что проблемы с оплатой отсутствуют.

Согласно тексту задания, жалоб на несоответствие итоговой продукции и изначально согласованных 3D-моделей не поступало. Инициативу №4  считаем необходимой, но с низким приоритетом.

**Инициативы по устранению нежелательных ситуаций на производстве:**
1. Внедрение кеширования для новых заказов в MES. Кешируются только список заказов и статус. Необходимо произвести рефакторинг первой страницы MES: в начале будут отображаться список заказов со статусом NEW, затем список со всеми остальными заказами. Оба перечня берутся из кеша. Т.к. модель отображаемых данных для операторов будет отличаться от используемой MES DB и недоступностимо простаивание производственного конвейра из-за отключения модуля кеширования, то принято решение использовать паттерн Cache-Aside. Риск неконсистентности данных нивелируем дополнительными 10 минутами, когда заказ "охлаждается" после подтверждения от Seller в CRM для минимизации ситуаций, когда клиент передумывает и/или отменяет заказ.

С учетом ограниченного бюджета на ИТ и отсутствия жалоб на скорость работы Internet Shop и CRM, принято решение внедрять технологии кеширования только для первой страницы MES системы.

**Инициативы по устранению нежелательных ситуаций при разработке:**
1. Найм на ГПХ второго QA для устранения скопившейся очереди релизов. По итогам разбора очереди принять решение о найме в штат.
2. После разбора текущей очереди, совместно с DevOps-инженером, проработать возможность автоматизации ряда E2E сценариев в release-окружении.

Вопрос автоматизации процессов ручного деплоя в release и prod окружение необходимо прорабатывать дополнительно с полным погружением всей команды. Из-за сложности реализации инициативу было принято отложить.

---
### Расставьте инициативы в порядке приоритета.
> Опишите ход своих рассуждений и ответьте на вопросы:
> 1. Какой вы видите целевую архитектуру через полгода?
> 2. Если бы у вас была возможность выполнить только три пункта из списка инициатив в ближайшие полгода, что бы вы выбрали и почему? Не обязательно добавлять в список только эпики. Вы можете включить в план как крупные изменения, так и локальные задачи.

**Целевая архитектура через полгода:**
1. Принято решение о направлении всех сил команды разработки на повышение уровня надежности и доступности действующих сервисов. Развитие новых продуктовых сервисов поставлено на паузу для стабилизации текущего состояния «Александрита».
2. Для повышения надежности и доступности запланировано внедрение: системы мониторинга ключевых метрик и трейсинга заказов; единое хранилище логов; сервис аллертинга
3. Аналитический контур спроектирован, но не реализован. Предиктивные модели по утилизации производства - следующий приоритет компании.

Допускаем, что все решения были согласованы и поддержаны бизнес-направлениями компании.

**ТОП-3 инициативы**
Командой «Александрита» были выбраны инициативы с наибольшим влиянием на бизнес и ИТ. Приоритет отдавался инициативам, которые позволят уменьшить недовольство клиентов и пользователей сервисов компании:
1.  Выстраивание прозрачной системы E2E мониторинга, которая позволит показать сотрудникам Бизнес и ИТ направлений "Александрита", куда необходимо направить инвестиции для устранения потерь заказов
2. Внедрение кеширования для новых заказов в MES.
3. Найм на ГПХ второго QA для устранения скопившейся очереди релизов. По итогам разбора очереди принять решение о найме в штат.

---